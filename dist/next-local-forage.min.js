/*!
 * name: @feizheng/next-local-forage
 * description: LocalForage for next.
 * url: https://github.com/afeiship/next-local-forage
 * version: 1.0.1
 * date: 2020-03-20 17:38:16
 * license: MIT
 */
!function(){var t=t||this||window||Function("return this")(),e=t.nx||require("@feizheng/next-js-core2"),n=t.localforage||require("localforage"),o=e.declare("nx.LocalForage",{methods:{init:function(t){this.options=t,this.store=n.createInstance(this.options)},config:function(t){e.mix(this.options,t),this.store.config(this.options)},destroy:function(){return n.createInstance(this.options)},set:function(t,e){return this.store.setItem(t,e)},sets:function(t){var n=[];return e.forIn(t,function(t,e){n.push(this.set(t,e))},this),Promise.all(n)},get:function(t){return this.store.getItem(t)},gets:function(){var i=this;return new Promise(function(t,o){i.keys().then(function(t){var e=[],n=[];t.map(function(t){i.get(t).then(function(t){e.push(t)}).catch(function(t){n(t)})}),e.length&&resove(e),n.length&&o(n)})})},del:function(t){return this.store.removeItem(t)},dels:function(t){var e=t.map(function(t){return this.del(t)},this);return Promise.all(e)},clear:function(){return this.store.clear()},keys:function(){return this.store.keys()}}});"undefined"!=typeof module&&module.exports&&(module.exports=o)}();